# Дипломная работа по курсу "Python-разработчик"  

Автор: Невмержицкий Богдан Вадимович     

### 1. Введение

#	Тема дипломной работы: "Сравнение различных библиотек для визуализации данных: Matplotlib, Seaborn и Plotly: Создать набор визуализаций с использованием Matplotlib, Seaborn и Plotly, сравнить их функциональность и удобство использования". 

Визуализация данных представляет собой процесс графического отображения информации. Она позволяет превращать большие массивы данных в компактные графики, облегчая их анализ и прогнозирование. Этот метод является ключевым инструментом в науке о данных, делая сложные данные более доступными для понимания.

Библиотеки Matplotlib, Seaborn и Plotly служат основными инструментами для визуализации данных при помощи Python.
	

### 2. Обоснование выбора темы.
Визуализация данных играет ключевую роль в современном мире анализа данных. Она помогает исследователям, аналитикам и специалистам по данным интерпретировать информацию, выявлять скрытые закономерности и делать выводы на основе больших объемов данных. В Python существует множество библиотек для создания визуализаций, каждая из которых имеет свои особенности, преимущества и недостатки. В этом исследовании мы сосредоточимся на трех популярных библиотеках: Matplotlib, Seaborn и Plotly.


### 3. Определение цели и задачи исследования:
Основной целью исследования является сравнение трех популярных библиотек Matplotlib, Seaborn, Plotly на основе экономических коррелятов, чтобы помочь пользователям определится в выборе нужной библиотеки. 
1. Изучить возможности каждой библиотеки для построения различных типов графиков (линейные графики, круговые диаграммы, тепловые карты и др.).
2. Проанализировать гибкость настроек и кастомизации графиков.
3. Провести сравнение качества визуальных представлений, созданных с помощью разных библиотек.


Исследование поможет читателю лучше понять сильные и слабые стороны каждой из рассматриваемых библиотек и сделать осознанный выбор инструмента для своих проектов в области визуализации данных.


### 4. Основные характеристики выбранных библиотек.

#### 1. Matplotlib:
Одна из старейших и наиболее широко используемых библиотек для визуализации данных в Python. Она предоставляет мощные инструменты для создания статических, интерактивных и анимированных графиков.

Особенности:
Она очень мощная и позволяет создавать разные виды графиков, такие как линии, столбцы, круговые диаграммы и многие другие. Вы можете настроить почти всё в графике: цвета, шрифты, размеры и прочее.

Недостатки:
Основной недостаток в том, что данная библиотека требует много кода для простых вещей.

#### 2. Seaborn:
Эта библиотека работает поверх Matplotlib и делает её проще и красивее.

Особенности: 
Seaborn отлично подходит для создания статистических графиков, таких как распределение данных или связи между ними. Она автоматически делает графики красивыми и профессиональными

Недостатки: Ограниченная настройка, у пользователя меньше возможностей точной настройки каждого элемента, как в Matplotlib и не очень универсальная, больше подходит для статической визуализации.

#### 3. Plotly:
Это библиотека для создания интерактивных графиков, которые вы можете использовать в веб-браузерах. 

Особенности: 
Графики, созданные с помощью Plotly, можно легко перемещать, увеличивать и уменьшать прямо в браузере. Это удобно для анализа данных. Также, отлично интегрируется с веб-технологиями, поэтому его часто используют для создания интерактивных дашбордов и приложений.

Недостатки: 
Требуется подключение к интернету: Для некоторых функций Plotly требуется подключение к серверу, что может быть неудобным в офлайн-среде. Также, при работе с большими наборами данных графики могут загружаться медленнее или потреблять больше ресурсов компьютера.

### Резюмируя выше перечисленное могу сказать, что:
1. Seaborn — создает красивые и профессиональные графики с минимальными усилиями. Подойдет для презентаций и отчетов, где важна эстетика.

2. Matplotlib — позволяет создавать высококачественные графики с высокой степенью детализации. Однако для этого потребуется больше усилий и знаний.

3. Plotly — отличается высоким качеством интерактивных графиков, которые можно использовать в веб-приложениях. Подходит для создания современных и динамичных визуализаций.

### 5. Давайте наконец-то испытаем наши библиотеки и посмотрим на результаты.
Для испытаний я выполнил создание DataFrame с экономическими показателями стран (ВВП и Уровень безработицы), вывод этого фрейма на экран и сохранение данных в формате Excel. Я мог использовать уже готовые данные с сайтов, но мне было важно пройти этот путь с самого начала, чтобы понять, как всё работает. Давайте разберем каждый шаг подробно.

### Импорт библиотек
```
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
import plotly.express as px

```
Здесь импортируются библиотеки для работы с данными (pandas, numpy), визуализации (matplotlib, seaborn, plotly) и анализа данных. В данном конкретном примере используются только pandas для создания и обработки DataFrame.

### Шаг 1: Создание DataFrame с данными
```
countries = ['United States', 'Germany', 'United Kingdom', 'France', 'Japan']
gdp = [21300, 3800, 2800, 2700, 5000]
unemployment_rate = [6.0, 4.0, 4.5, 7.1, 2.8]

data = pd.DataFrame({
    'Страна': countries,
    'ВВП ($ млрд)': gdp,
    'Уровень безработицы (%)': unemployment_rate
})

data.set_index('Страна', inplace=True)
print("DataFrame:")
print(data)


1. Создание списка стран:
   
   countries = ['United States', 'Germany', 'United Kingdom', 'France', 'Japan']
   
   Создается список названий стран.

2. Создание списков значений ВВП и уровня безработицы:
   
   gdp = [21300, 3800, 2800, 2700, 5000]
   unemployment_rate = [6.0, 4.0, 4.5, 7.1, 2.8]
   
   Для каждой страны указаны значения ВВП (в миллиардах долларов) и уровень безработицы (в процентах).

3. Создание DataFrame:
   
   data = pd.DataFrame({
       'Страна': countries,
       'ВВП ($ млрд)': gdp,
       'Уровень безработицы (%)': unemployment_rate
   })
   
   С помощью pd.DataFrame() создается таблица, где столбцы — это страны, а строки содержат данные о ВВП и уровне безработицы. Каждая строка соответствует одной стране.

4. Установка индекса:
   
   data.set_index('Страна', inplace=True)
   
   Метод set_index() устанавливает индекс таблицы по столбцу 'Страна'. Параметр inplace=True означает, что изменения будут внесены непосредственно в исходный объект data. Теперь каждая страна будет служить уникальным идентификатором строки.

5. Вывод DataFrame на экран:
   
   print("DataFrame:")
   print(data)
```   
   На этом этапе вы увидите таблицу с данными, которая выглядит примерно так:
   
   
![Таблица уровня ВВП и безработицы](https://github.com/Bodya808/Diplom/blob/main/jpg/Таблица%201.jpg)
   

   

### Шаг 2: Сохранение DataFrame в Excel
```
data.to_excel('экономические_показатели.xlsx', index=True)
print("\nДанные сохранены в файл 'экономические_показатели.xlsx'.")


1. Метод to_excel():
   
   data.to_excel('экономические_показатели.xlsx', index=True)
   
   Этот метод сохраняет DataFrame в виде файла Excel. Первый аргумент — имя файла, второй аргумент index=True указывает, что нужно сохранить индекс (в данном случае названия стран). Если бы этот параметр был равен False, то индексы не были бы включены в файл.

2. Сообщение об успешном сохранении:
   
   print("\nДанные сохранены в файл 'экономические_показатели.xlsx'.")
```   
   После сохранения файла программа выводит сообщение, подтверждающее успешную запись данных.

### Итог

Таким образом, данный скрипт создает DataFrame с экономическими показателями различных стран, выводит его на экран и сохраняет в файл формата Excel.

## 5.2: Теперь, когда мы подготовили нужные данные, перейдем к построению самих графиков, диаграмм.
### 1. Линейные графики (Уровень ВВП и безработицы) Matplotlib
### Часть 1: Чтение данных из Excel
```
file_path = 'экономические_показатели.xlsx'
data = pd.read_excel(file_path, index_col='Страна')


1. Определение пути к файлу:  
   Переменной file_path присваивается путь к файлу Excel, содержащему экономические показатели.

2. Чтение данных из Excel:  
   Метод read_excel() из библиотеки Pandas (pd) используется для загрузки данных из указанного Excel-файла. Аргумент index_col='Страна' указывает, что столбец 'Страна' будет использован в качестве индекса DataFrame.

### Часть 2: Вывод данных для проверки

print("DataFrame:")
print(data)


1. Вывод заголовка:  
   Сначала выводится строка "DataFrame:" для обозначения начала вывода содержимого DataFrame.

2. Вывод DataFrame:  
   Затем вызывается метод print(data) для вывода всего содержимого DataFrame, которое было загружено из Excel-файла.

### Часть 3: Линейный график ВВП с Matplotlib

plt.figure(figsize=(10, 6))
plt.plot(data.index, data['ВВП ($ млрд)'], marker='o', color='teal', linewidth=2)
plt.title('ВВП стран (Matplotlib)', fontsize=14)
plt.xlabel('Страны', fontsize=12)
plt.ylabel('ВВП ($ млрд)', fontsize=12)
plt.xticks(rotation=45)
plt.grid(True)
plt.tight_layout()
plt.show()
```
```
1. Создание новой фигуры:  
   Метод figure() из модуля pyplot создает новую фигуру для графика. Аргумент figsize=(10, 6) устанавливает размер этой фигуры в дюймах (ширина 10, высота 6).

2. Построение линии:  
   Метод plot() рисует линию на графике. Аргументы:
   - data.index — используется индекс DataFrame (в данном случае страны), который был установлен при чтении данных.
   - data['ВВП ($ млрд)'] — выбирается столбец 'ВВП ($ млрд)' из DataFrame.
   - marker='o' — задает вид маркеров на линии (круглые точки).
   - color='teal' — задает цвет линии (бирюзовый).
   - linewidth=2 — задает толщину линии.

3. Заголовок графика:  
   Метод title() добавляет заголовок к графику. Аргумент fontsize=14 задает размер шрифта заголовка.

4. Подпись оси X:  
   Метод xlabel() добавляет подпись к оси X. Аргумент fontsize=12 задает размер шрифта подписи.

5. Подпись оси Y:  
   Метод ylabel() добавляет подпись к оси Y. Аргумент fontsize=12 задает размер шрифта подписи.

6. Поворот меток оси X:  
   Метод xticks(rotation=45) поворачивает метки оси X на 45 градусов для лучшей читаемости.

7. Отображение сетки:  
   Метод grid(True) включает отображение координатной сетки на графике.

8. Оптимизация расположения элементов:  
   Метод tight_layout() улучшает расположение элементов графика, предотвращая перекрытие надписей и других элементов.

9. Отображение графика:  
   Метод show() отображает созданный график.
```
### Часть 4: Линейный график уровня безработицы с Matplotlib
```
plt.figure(figsize=(10, 6))
plt.plot(data.index, data['Уровень безработицы (%)'], marker='s', linestyle='--', color='darkred', linewidth=2)
plt.title('Уровень безработицы стран (Matplotlib)', fontsize=14)
plt.xlabel('Страны', fontsize=12)
plt.ylabel('Уровень безработицы (%)', fontsize=12)
plt.xticks(rotation=45)
plt.grid(True)
plt.tight_layout()
plt.show()


Этот фрагмент кода аналогичен предыдущему, за исключением нескольких моментов:

1. Выбор данных:  
   Вместо столбца 'ВВП ($ млрд)' используется столбец 'Уровень безработицы (%)'.

2. Вид линии и маркеров:  
   - marker='s' — задает квадратные маркеры.
   - linestyle='--' — задает пунктирную линию.
   - color='darkred' — задает темно-красный цвет линии.
```
Остальные шаги остаются такими же, как и в предыдущем фрагменте: создание фигуры, настройка параметров графика, поворот меток оси X, включение сетки, оптимизация компоновки и отображение графика.

Таким образом, весь код последовательно выполняет чтение данных из Excel, проверку данных через вывод в консоль и построение двух линейных графиков с использованием библиотеки Matplotlib.
### Результат линейной диаграммы ВВП стран(Matplotlib):
![Таблица уровня ВВП](https://github.com/Bodya808/Diplom/blob/main/jpg/Линейный%20график%20ВВП%20стран%20Matplotlib.jpg)
### Результат линейной диаграммы Уровня безработицы(Matplotlib):
![Таблица уровня безработицы](https://github.com/Bodya808/Diplom/blob/main/jpg/Линейный%20график%20уровня%20безработицы%20Matplotlib.jpg)

### 2. Линейные графики (Уровень ВВП и безработицы) Seaborn
```
plt.figure(figsize=(10, 6))
sns.lineplot(x=data.index, y=data['ВВП ($ млрд)'], marker='o', color='teal', linewidth=2)
plt.title('ВВП стран (Seaborn)', fontsize=14)
plt.xlabel('Страны', fontsize=12)
plt.ylabel('ВВП ($ млрд)', fontsize=12)
plt.xticks(rotation=45)
plt.grid(True)
plt.tight_layout()
plt.show()


1. Создание новой фигуры:  
   
   plt.figure(figsize=(10, 6))
   
   Метод figure() из модуля pyplot создает новую фигуру для графика. Аргумент figsize=(10, 6) устанавливает размер этой фигуры в дюймах (ширина 10, высота 6).

2. Построение линии с Seaborn:  
   
   sns.lineplot(x=data.index, y=data['ВВП ($ млрд)'], marker='o', color='teal', linewidth=2)
   
   Функция lineplot() из библиотеки Seaborn (sns) рисует линию на графике. Аргументы:
   - x=data.index — используется индекс DataFrame (в данном случае страны), который был установлен при чтении данных.
   - y=data['ВВП ($ млрд)'] — выбирается столбец 'ВВП ($ млрд)' из DataFrame.
   - marker='o' — задает вид маркеров на линии (круглые точки).
   - color='teal' — задает цвет линии (бирюзовый).
   - linewidth=2 — задает толщину линии.

3. Заголовок графика:  
   
   plt.title('ВВП стран (Seaborn)', fontsize=14)
   
   Метод title() добавляет заголовок к графику. Аргумент fontsize=14 задает размер шрифта заголовка.

4. Подпись оси X:  
   
   plt.xlabel('Страны', fontsize=12)
   
   Метод xlabel() добавляет подпись к оси X. Аргумент fontsize=12 задает размер шрифта подписи.

5. Подпись оси Y:  
   
   plt.ylabel('ВВП ($ млрд)', fontsize=12)
   
   Метод ylabel() добавляет подпись к оси Y. Аргумент fontsize=12 задает размер шрифта подписи.

6. Поворот меток оси X:  
   
   plt.xticks(rotation=45)
   
   Метод xticks(rotation=45) поворачивает метки оси X на 45 градусов для лучшей читаемости.

7. Отображение сетки:  
   
   plt.grid(True)
   
   Метод grid(True) включает отображение координатной сетки на графике.

8. Оптимизация расположения элементов:  
   
   plt.tight_layout()
   
   Метод tight_layout() улучшает расположение элементов графика, предотвращая перекрытие надписей и других элементов.

9. Отображение графика:  
   
   plt.show()
   
   Метод show() отображает созданный график.
```

```
### Линейный график уровня безработицы с Seaborn

plt.figure(figsize=(10, 6))
sns.lineplot(x=data.index, y=data['Уровень безработицы (%)'], marker='s', color='darkred', linewidth=2, linestyle='--')
plt.title('Уровень безработицы стран (Seaborn)', fontsize=14)
plt.xlabel('Страны', fontsize=12)
plt.ylabel('Уровень безработицы (%)', fontsize=12)
plt.xticks(rotation=45)
plt.grid(True)
plt.tight_layout()
plt.show()


Этот фрагмент кода аналогичен предыдущему, за исключением нескольких моментов:

1. Выбор данных:  
   Вместо столбца 'ВВП ($ млрд)' используется столбец 'Уровень безработицы (%)'.

2. Вид линии и маркеров:  
   - marker='s' — задает квадратные маркеры.
   - linestyle='--' — задает пунктирную линию.
   - color='darkred' — задает темно-красный цвет линии.

Остальные шаги остаются такими же, как и в предыдущем фрагменте: создание фигуры, настройка параметров графика, поворот меток оси X, включение сетки, оптимизация компоновки и отображение графика.

Таким образом, оба блока кода используют библиотеку Seaborn для построения линейных графиков, аналогично тому, как это делалось ранее с Matplotlib, но с некоторыми отличиями в синтаксисе и возможностях настройки.
### Результат линейной диаграммы ВВП стран(Seaborn):
![Таблица уровня ВВП](https://github.com/Bodya808/Diplom/blob/main/jpg/Линейный%20график%20ВВП%20стран%20Seaborn.jpg)
### Результат линейной диаграммы Уровня безработицы(Seaborn):
![Таблица уровня безработицы](https://github.com/Bodya808/Diplom/blob/main/jpg/Линейный%20график%20уровня%20безработицы%20Seaborn.jpg)


### 3. Линейные графики (Уровень ВВП и безработицы) Plotly
fig = px.line(data, x=data.index, y='ВВП ($ млрд)', title='ВВП стран (Plotly)', markers=True,
              color_discrete_sequence=['teal'], template='plotly_white')
fig.update_layout(xaxis_title="Страны", yaxis_title="ВВП ($ млрд)", xaxis_tickangle=45)
fig.show()


1. Создание графика с Plotly:  
   Функция line() из библиотеки plotly.express (px) создает линейный график. Аргументы:
   - data — передается DataFrame с данными.
   - x=data.index — используется индекс DataFrame (в данном случае страны), который был установлен при чтении данных.
   - y='ВВП ($ млрд)' — выбирается столбец 'ВВП ($ млрд)' из DataFrame.
   - title='ВВП стран (Plotly)' — задает заголовок графика.
   - markers=True — включает отображение маркеров на линиях.
   - color_discrete_sequence=['teal'] — задает цвет линии (бирюзовый).
   - template='plotly_white' — выбирает белый шаблон для графика.

2. Настройка параметров графика:  
   Метод update_layout() обновляет макет графика. Аргументы:
   - xaxis_title="Страны" — задает название оси X.
   - yaxis_title="ВВП ($ млрд)" — задает название оси Y.
   - xaxis_tickangle=45 — поворачивает метки оси X на 45 градусов для лучшей читаемости.

3. Отображение графика:  
   Метод show() отображает созданный график.

### Часть 8: Линейный график уровня безработицы с Plotly

fig = px.line(data, x=data.index, y='Уровень безработицы (%)', title='Уровень безработицы стран (Plotly)', markers=True,
              color_discrete_sequence=['darkred'], template='plotly_white')
fig.update_layout(xaxis_title="Страны", yaxis_title="Уровень безработицы (%)", xaxis_tickangle=45)
fig.show()


Этот фрагмент кода аналогичен предыдущему, за исключением нескольких моментов:

1. Выбор данных:  
   Вместо столбца 'ВВП ($ млрд)' используется столбец 'Уровень безработицы (%)'.

2. Цвет линии:  
   Используется темно-красный цвет линии (color_discrete_sequence=['darkred']).
```
Остальные шаги остаются такими же, как и в предыдущем фрагменте: создание графика, настройка параметров, поворот меток оси X и отображение графика.

Таким образом, эти блоки кода создают интерактивные линейные графики с использованием библиотеки Plotly, аналогично тому, как это делалось ранее с Matplotlib и Seaborn, но с другими методами и возможностями настройки.
### Результат линейной диаграммы ВВП стран(Plotly):
![Таблица уровня ВВП](https://github.com/Bodya808/Diplom/blob/main/jpg/Линейный%20график%20ВВП%20стран%20Plotly.jpg)
### Результат линейной диаграммы Уровня безработицы(Plotly):
![Таблица уровня безработицы](https://github.com/Bodya808/Diplom/blob/main/jpg/Линейный%20график%20уровня%20безработицы%20Plotly.jpg)


## Подведем итоги на основе созданных нами линейных графиков с использованием библиотек Matplotlib, Seaborn и Plotly.
### Матplotplot (Matplotlib)

Преимущества:
- Высокий уровень контроля над каждым элементом графика: от стиля линий до выбора шрифтов.
- Широкий набор инструментов для визуализации данных, включая возможность построения гистограмм, баров, boxplots и многих других типов графиков.
- Богатая документация и большое сообщество пользователей, что облегчает поиск решений для возникающих вопросов.

Недостатки:
- Сложен в изучении и использовании, особенно для новичков.
- Часто требует много строк кода даже для простых задач.
- По умолчанию графики выглядят менее привлекательными, чем в Seaborn или Plotly.

### Seaborn

Преимущества:
- Упрощенное API, что делает работу с графиками проще и быстрее.
- Лучшие стили по умолчанию, которые делают графики более красивыми и профессиональными.
- Легко интегрируется с Pandas, что упрощает визуализацию данных.

Недостатки:
- Меньший контроль над элементами графика по сравнению с Matplotlib.
- Меньше документации и поддержки, хотя она быстро растет.
- Некоторые возможности требуют дополнительных шагов для реализации.

### Plotly

Преимущества:
- Интерактивные графики, которые позволяют пользователям взаимодействовать с ними (зум, выделение данных и т.п.).
- Современные стили и шаблоны, которые делают графики визуально привлекательными.
- Простое внедрение в веб-приложения.

Недостатки:
- Может потребоваться дополнительная настройка сервера для интерактивных графиков.
- Иногда сложнее освоить, чем Matplotlib или Seaborn.
- Немного меньше поддержки, но активно развивается.


## 5.3: Круговые диаграммы.
### 1. Круговые диаграммы (Уровень ВВП и безработицы) Matplotlib
```
#### Чтение данных из Excel
file_path = 'экономические_показатели.xlsx'
data = pd.read_excel(file_path, index_col='Страна')
#### Вывод данных для проверки
print("DataFrame:")
print(data)

#### Подготовка цветовой палитры
colors = sns.color_palette('pastel')

#### ВВП
plt.figure(figsize=(8, 8))
plt.pie(data['ВВП ($ млрд)'], labels=data.index, autopct='%1.1f%%', startangle=140,
        shadow=True, colors=colors)
plt.title('Доля ВВП стран (Matplotlib)', fontsize=16)
plt.axis('equal')
plt.show()
```

#### Уровень безработицы
```
plt.figure(figsize=(8, 8))
plt.pie(data['Уровень безработицы (%)'], labels=data.index, autopct='%1.1f%%', startangle=90,
        shadow=True, colors=colors)
plt.title('Уровень безработицы стран (Matplotlib)', fontsize=16)
plt.axis('equal')
plt.show()
```
### Рассмотрим ниже данный код поподробнее:
1. Чтение данных из Excel:
   Открывает файл Excel и считывает данные в DataFrame, где индексом является столбец 'Страна'. Это позволяет работать с таблицей данных как с двумя измерениями: страны и их экономические показатели.

2. Создание цветовой палитры:
   Выбирает палитру из библиотеки Seaborn, чтобы улучшить внешний вид графиков. Это помогает создать более эстетичные и подходящие цвета для диаграмм.

3. Диаграммы:
   Используется функция plt.pie для создания круговой диаграммы, которая показывает доли ВВП или уровни безработицы в процентах. Каждая доля помечена соответствующей страной, а общая сумма долей составляет 100%.

4. Форматирование и вывод:
   Устанавливаются размеры графиков, добавляются заголовки и подписи, а также применяются тени и тени для создания иллюзии глубины. После завершения обработки графика вызывается метод plt.show для отображения результатов на экране.
### Результат линейной диаграммы ВВП стран(Matplotlib):
![Круговая диаграмма уровня ВВП](https://github.com/Bodya808/Diplom/blob/main/jpg/Круговая%20диаграмма%20доли%20ВВП%20Matplotlib.jpg)
### Результат линейной диаграммы Уровня безработицы(Matplotlib):
![Круговая диаграмма уровня безработицы](https://github.com/Bodya808/Diplom/blob/main/jpg/Круговая%20диаграмма%20уровня%20безработицы%20Matplotlib.jpg)

### 2. Круговые диаграммы (Уровень ВВП и безработицы) Plotly.
### Часть 1: Создание круговой диаграммы для ВВП
```
fig = px.pie(data, values='ВВП ($ млрд)', names=data.index, title='Доля ВВП стран (Plotly)',
     hole=0.1, hover_data=['Уровень безработицы (%)'], template='presentation'
     fig.update_traces(textinfo='percent+label', textfont_size=14)
     fig.show()


### Основные компоненты:

1. **Функция `px.pie`**:
   Эта функция из библиотеки Plotly Express используется для создания круговой диаграммы. Она принимает массив данных `data` и определяет значения для каждого сегмента круга.

2. **Параметры**:
   - `values='ВВП ($ млрд)`: Указанные значения для сегментов круга.
   - `names=data.index`: Метки для сегментов круга берутся из индекса DataFrame.
   - `title='Доля ВВП стран (Plotly)`: Название графика.
   - `hole=0.1`: Оставляется небольшой промежуток между сегментами для лучшего восприятия.
   - `hover_data=['Уровень безработицы (%)']`: Дополнительные данные, которые отображаются при наведении курсора на сегмент круга.
   - `template='presentation'`: Шаблон для графики, определяющий внешний вид.
   - `fig.update_traces(textinfo='percent+label', textfont_size=14)`: Уточнение параметров для текста внутри сегментов.

3. **Методы и функции**:
   - `fig.show()`: Отображение графика на экране.
```

### Часть 2: Создание круговой диаграммы для уровня безработицы
```
fig = px.pie(data, values='Уровень безработицы (%)', names=data.index, title='Уровень безработицы стран (Plotly)',
     hole=0.1, hover_data=['ВВП ($ млрд)'], template='presentation'
     fig.update_traces(textinfo='percent+label', textfont_size=14)
     fig.show()

### Основные компоненты:

1. **Функция `px.pie`**:
   Аналогичная функция для создания круговой диаграммы уровня безработицы. Принципиально она работает так же, как для ВВП, но с другими значениями.

2. **Параметры**:
   - `values='Уровень безработицы (%)`: Значения для сегментов круга.
   - `names=data.index`: Метки для сегментов круга.
   - `title='Уровень безработицы стран (Plotly)`: Название графика.
   - `hole=0.1`: Небольшой промежуток между сегментами для лучшего восприятия.
   - `hover_data=['ВВП ($ млрд)`]: Дополнительные данные, которые отображаются при наведении курсора на сегмент круга.
   - `template='presentation'`: Шаблон для графики, определяющий внешний вид.
   - `fig.update_traces(textinfo='percent+label', textfont_size=14):
   Обновление информации о сегментах круга.

```
Этот код создает две круговые диаграммы, одна для доли ВВП, вторая для уровня безработицы. Обе диаграммы строятся с использованием библиотеки Plotly Express. Каждая диаграмма содержит сегменты, представляющие доли данных, а также дополнительные данные, которые появляются при наведении курсора на сегмент. Внешний вид определяется шаблоном `presentation`, который ориентирован на презентации.

### Функции и методы:

1. **px.pie**:
   Эта функция создает круговую диаграмму, где каждое значение является долей определенного показателя (например, ВВП или уровень безработицы). Каждый сегмент круга помечен именем, соответствующим индексу DataFrame. При наведении курсора на сегмент появляется дополнительная информация, которая хранится в `hover_data`.

2. **hole=0.1**:
   Это параметр, который оставляет небольшое пространство между сегментами для улучшения восприятия.

3. **hover_data**:
   Этот параметр добавляет дополнительную информацию, которая отображается при наведении курсора на сегмент. В этом примере это уровень безработицы, который связывается с показателем ВВП.

4. **template='presentation'**:
   Этот параметр определяет внешний вид диаграммы, используя шаблон, предназначенный для презентаций.

5. **fig.update_traces**:
   Этот метод обновляет информацию о сегментах, заменяя стандартные метки на пользовательские, содержащие проценты и названия.

6. **fig.show()**:
   Этот метод вызывает отображение диаграммы на экране.

### Результат линейной диаграммы ВВП стран(Plotly):
![Круговая диаграмма уровня ВВП](https://github.com/Bodya808/Diplom/blob/main/jpg/Круговая%20диаграмма%20доли%20ВВП%20Plotly.jpg)
### Результат линейной диаграммы Уровня безработицы(Plotly):
![Круговая диаграмма уровня безработицы](https://github.com/Bodya808/Diplom/blob/main/jpg/Круговая%20диаграмма%20уровня%20безработицы%20Plotly.jpg)

На основании анализа круговых диаграмм, созданных с помощью библиотек Matplotlib и Plotly, можно сделать следующие выводы:

### Matplotlib

1. Простота использования: Matplotlib предоставляет базовые инструменты для создания круговых диаграмм без сложных настроек. Это делает её удобной для быстрого визуального представления данных.
   
2. Настраиваемость: Хотя библиотека предлагает множество параметров для настройки внешнего вида диаграммы (цвета, метки, размеры), она требует больше кода для достижения высокой степени кастомизации.

3. Интеграция с другими инструментами: Matplotlib хорошо интегрируется с Jupyter Notebook и другими инструментами для анализа данных, такими как Pandas и NumPy, что упрощает создание интерактивных отчетов.

4. Поддержка статических изображений: Основное предназначение Matplotlib – генерация статичных графиков, включая круговые диаграммы, что может быть полезно при создании презентаций или отчетов.

### Plotly

1. Интерактивность: Одним из главных преимуществ Plotly является возможность создавать интерактивные графики, включая круговые диаграммы. Пользователи могут взаимодействовать с графиками, наводя курсор мыши на сегменты, чтобы увидеть детальную информацию.

2. Удобство работы с данными: Plotly позволяет легко работать с большими наборами данных благодаря встроенным функциям фильтрации и группировки.

3. Кастомизация: Библиотека предоставляет широкий спектр возможностей для настройки внешнего вида диаграмм, включая цвета, шрифты, стили линий и многое другое.

4. Совместимость с веб-приложениями: Графики, созданные с помощью Plotly, можно легко интегрировать в веб-приложения, что делает эту библиотеку идеальным выбором для разработки аналитических панелей и дашбордов.

### 3. Круговые диаграммы (Уровень ВВП и безработицы) Seaborn.
К сожалению, seaborn не поддерживает прямое создание круговых диаграмм =(

## 5.4: Красота библиотеки Plotly
В процессе изучения темы, я наткнулся на трехмерные модели в библиотеке Plotly и с большим восторгом реализовал их. 
Для их реализации я создал ещё один новый DataFrame, для примера с данными об анализе энергопотребления и загрязнения воздуха, а также, использовал предыдущий с уровнем ВВП и безработицы.

### Давайте посмотрим на примере 3D-графика рассеяния:
### Импорт библиотек
```
import plotly.express as px
import pandas as pd
```
Здесь импортируются две библиотеки:
- plotly.express (px) — модуль для построения графиков.
- pandas (pd) — модуль для обработки и анализа данных.

### Определение данных
```
cities = ['Los Angeles', 'Tokyo', 'London', 'Berlin', 'Paris']
energy_consumption = [4200, 3600, 4800, 3100, 4500]
air_pollution = [75, 60, 85, 50, 65]
```

Создаются три списка:
- cities: содержит названия городов.
- energy_consumption: содержит значения потребления электроэнергии для каждого города.
- air_pollution: содержит уровни загрязнения воздуха для каждого города.

### Создание DataFrame
```
df = pd.DataFrame({
    'Город': cities,
    'Потребление электроэнергии (кВт·ч)': energy_consumption,
    'Уровень загрязнения воздуха (мкг/м³)': air_pollution
})
```
Используется DataFrame из библиотеки pandas, который объединяет все списки в одну таблицу. Каждая колонка соответствует одному списку, а строки содержат соответствующие значения.

### Построение 3D графика
```
fig = px.scatter_3d(df, x='Потребление электроэнергии (кВт·ч)', y='Уровень загрязнения воздуха (мкг/м³)',
                    z='Город', color='Потребление электроэнергии (кВт·ч)', size_max=18,
                    color_continuous_scale='Viridis',
                    title='Анализ энергопотребления и загрязнения воздуха',
                    labels={'Потребление электроэнергии (кВт·ч)': 'Потребление электроэнергии (кВт·ч)',
                            'Уровень загрязнения воздуха (мкг/м³)': 'Уровень загрязнения воздуха (мкг/м³)'},
                   )
```
Метод scatter_3d() используется для создания 3D-графика рассеяния. Вот параметры, которые он принимает:
- x и y — оси X и Y соответственно.
- z — ось Z, которая определяет высоту точек на графике.
- color — параметр, определяющий цвет точек на графике. В данном случае используется значение потребления электроэнергии.
- size_max — максимальный размер точки на графике.
- color_continuous_scale — шкала цветов, используемая для окраски точек. Здесь выбрана палитра 'Viridis'.
- title — заголовок графика.
- labels — словарь, содержащий подписи осей.

### Обновление параметров фигуры
```
fig.update_traces(marker=dict(size=12),
                  selector=dict(mode='markers'))
```
Метод update_traces() обновляет параметры маркеров на графике. Здесь задается фиксированный размер всех точек (маркеров) равным 12 пикселям.

### Отображение графика
```
fig.show()
```
Метод show() выводит созданный график на экран.
### Результат 3D-графика рассеяния(Plotly):
![график рассеяния](https://github.com/Bodya808/Diplom/blob/main/jpg/3D%20Plotly.jpg)
Таким образом, этот код строит 3D-график рассеяния, где каждая точка представляет город, а координаты X, Y и Z соответствуют потреблению электроэнергии, уровню загрязнения воздуха и названию города соответственно. Цвет точек определяется значением потребления электроэнергии, а их размер одинаков для всех точек.

### Теперь используем наш предыдущий DataFrame с экономическими показателями и создадим интерактивную карту.
### Импорт библиотек
```
import pandas as pd
import plotly.express as px
```
Здесь мы импортируем два модуля:
- pandas (pd) — для чтения и обработки данных.
- plotly.express (px) — для создания интерактивной карты.

### Чтение данных из Excel
```
file_path = 'экономические_показатели.xlsx'
data = pd.read_excel(file_path, index_col='Страна')
```
- file_path указывает путь к файлу с экономическими показателями.
- read_excel читает данные из файла Excel и сохраняет их в объект DataFrame под названием data.
- Параметр index_col='Страна' говорит о том, что столбец 'Страна' будет использоваться в качестве индекса строк в DataFrame.

### Преобразование типов данных
```
data['Normalized Unemployment Rate'] = (data['Уровень безработицы (%)'] - data['Уровень безработицы (%)'].min()) / (data['Уровень безработицы (%)'].max() - data['Уровень безработицы (%)'].min()) * 100
```
Эта строка вычисляет нормализованный уровень безработицы для каждой страны. Нормализация проводится следующим образом:
- Вычитаем минимальное значение уровня безработицы из текущего значения.
- Делим результат на размах значений (разница между максимальным и минимальным значением).
- Умножаем на 100, чтобы получить процентное значение.

### Создание карты
```
fig = px.scatter_geo(data,
                     locations=data.index,
                     locationmode='country names',
                     size="ВВП ($ млрд)",
                     color="Normalized Unemployment Rate",
                     hover_name=data.index,
                     hover_data={'ВВП ($ млрд)': True, 'Уровень безработицы (%)': True},
                     color_continuous_scale=px.colors.sequential.Plasma,
                     size_max=60,
                     projection="natural earth")
```
- scatter_geo создаёт карту с точками, соответствующими странам.
- locations=data.index указывает, что местоположением каждой точки будет страна, соответствующая индексу строки в DataFrame.
- locationmode='country names' сообщает plotly, что необходимо использовать полные названия стран для определения координат.
- size="ВВП ($ млрд)" устанавливает размер точек пропорционально ВВП каждой страны.
- color="Normalized Unemployment Rate" окрашивает точки в зависимости от нормализованного уровня безработицы.
- hover_name=data.index показывает название страны при наведении курсора на точку.
- hover_data={'ВВП ($ млрд)': True, 'Уровень безработицы (%)': True} добавляет дополнительную информацию (ВВП и уровень безработицы) в подсказку при наведении.
- color_continuous_scale=px.colors.sequential.Plasma выбирает градиентную цветовую схему для окрашивания точек.
- size_max=60 ограничивает максимальный размер точек до 60 единиц.
- projection="natural earth" устанавливает проекцию карты.

### Настройка легенды и заголовков осей
```
fig.update_layout(
    title_text='GDP and Unemployment Rate by Country',
    geo=dict(showframe=False),
    legend_title_text='Unemployment Rate'
)
```
- update_layout изменяет параметры макета карты.
- title_text='GDP and Unemployment Rate by Country' устанавливает заголовок карты.
- geo=dict(showframe=False) убирает рамку вокруг карты.
- legend_title_text='Unemployment Rate' устанавливает заголовок легенды.

### Отображение карты
```
fig.show()
```
### Результат интерактивной карты(Plotly):
![интерактивная карта](https://github.com/Bodya808/Diplom/blob/main/jpg/Plotly%20Earth.jpg)
Этот метод отображает созданную карту в браузере или в Jupyter Notebook.
Этот код считывает экономические показатели из Excel-файла, нормализует уровень безработицы, затем создаёт интерактивную карту, где размер точек отражает ВВП стран, а цвет — нормализованный уровень безработицы. Карта имеет заголовок и настроенную легенду, а также включает дополнительные данные при наведении курсора на точки.

## Заключение.
Окончательное решение о выборе библиотеки лежит на вас. Оно должно основываться на конкретных требованиях вашего проекта, таких как тип графика, уровень интерактивности и сложность задачи, а также на вашем опыте и предпочтениях в работе с данными. Рассмотрите возможность комбинации нескольких библиотек.

Дополнительно в моем репозитории содержится сравнение этих библиотек для создания тепловых карт. К сожалению, из-за нехватки времени результаты оказались не такими, как мне хотелось бы.

В будущем мне было бы очень интересно реализовать крупный проект с интеграцией графиков для анализа данных в веб-приложение.